[workspace]
name = "rerassor"
version = "0.1.0"
description = "RE-RASSOR Arm Simulation Development Environment"
authors = ["Jonathan Leeder"]
channels = ["robostack-staging", "conda-forge"]
platforms = ["linux-64", "osx-64"]
#platforms = ["linux-64", "linux-aarch64", "osx-64", "osx-arm64"] # Native M1 Failed to Launch Gazebo but is much faster

[activation.env]
# 1. Load the colcon defaults
COLCON_DEFAULTS_FILE = "colcon_defaults.yaml"
# 2. Fix dynamic linking for macOS
DYLD_FALLBACK_LIBRARY_PATH = "$CONDA_PREFIX/lib:$DYLD_FALLBACK_LIBRARY_PATH"

[tasks]
# Shortcuts
build = "colcon build"
clean = "rm -rf build install log"
source = "source install/setup.bash"

[dependencies]
# Core ROS2 Humble
ros-humble-desktop = "*"
ros-humble-ros-base = "*"

# Gazebo 11
ros-humble-gazebo-ros-pkgs = "*"
ros-humble-gazebo-ros2-control = "*"

# ROS2 Control (for arm controllers)
ros-humble-ros2-control = "*"
ros-humble-ros2-controllers = "*"
ros-humble-controller-manager = "*"
ros-humble-joint-state-broadcaster = "*"
ros-humble-joint-trajectory-controller = "*"

# Robot description and state
ros-humble-robot-state-publisher = "*"
ros-humble-joint-state-publisher = "*"
ros-humble-joint-state-publisher-gui = "*"
ros-humble-xacro = "*"

# MoveIt (motion planning)
ros-humble-moveit = "*"
ros-humble-moveit-configs-utils = "*"
ros-humble-moveit-ros-planning = "*"
ros-humble-moveit-ros-planning-interface = "*"
ros-humble-moveit-ros-visualization = "*"

# Visualization
ros-humble-rviz2 = "*"
ros-humble-rqt = "*"
ros-humble-rqt-common-plugins = "*"

# Vision/OpenCV
ros-humble-cv-bridge = "*"
ros-humble-image-transport = "*"
python = "3.11.*"
opencv = "*"
numpy = "*"

# Build tools
colcon-common-extensions = "*"
cmake = "*"
ninja = "*"
compilers = "*"
pkg-config = "*"
make = ">=4.4.1,<5"
cxx-compiler = ">=1.11.0,<2"
c-compiler = ">=1.11.0,<2"
